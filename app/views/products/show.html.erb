<p style="color: green"><%= notice %></p>

<%# --- Product image (supports multiple or single attachment), else inline placeholder --- %>
<% if @product.respond_to?(:images) && @product.images.attached? %>
  <p>
    <%= image_tag url_for(@product.images.first), style: "max-width: 200px;" %>
  </p>
<% elsif @product.respond_to?(:image) && @product.image.attached? %>
  <p>
    <%= image_tag url_for(@product.image), style: "max-width: 200px;" %>
  </p>
<% else %>
  <div class="d-inline-flex align-items-center justify-content-center border rounded bg-light"
       style="width:200px;height:200px;">
    <span class="text-muted">No image</span>
  </div>
<% end %>

<%= render @product %>

<div>
  <%= link_to "Edit this product", edit_product_path(@product) %> |
  <%= link_to "Back to products", products_path %>

  <%= button_to "Destroy this product", @product, method: :delete %>
</div>
